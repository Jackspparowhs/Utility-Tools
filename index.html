<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Utility Tools ‚Äî PirateRuler</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg: #f1f6fb;
    --card: #ffffff;
    --muted: #708090;
    --accent1: #4da6ff;
    --accent2: #9b6bff;
    --shadow: 0 12px 30px rgba(26,34,56,0.08);
    --radius: 18px;
    --glass: rgba(255,255,255,0.85);
  }
  [data-theme="dark"]{
    --bg: #071225;
    --card: #071426;
    --muted: #9fb0c6;
    --accent1: #56b6ff;
    --accent2: #7f6bff;
    --shadow: 0 18px 40px rgba(2,8,20,0.6);
    --glass: rgba(8,14,24,0.9);
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
    background:linear-gradient(180deg,var(--bg) 0%, #e9f0f8 60%);
    -webkit-font-smoothing:antialiased;
    color: #0b1b2b;
    padding:24px 16px;
    transition:background 250ms ease, color 250ms ease;
  }
  [data-theme="dark"] body{ color: #eaf2ff; background: linear-gradient(180deg,#04101a 0%, #071226 60%); }

  /* Header */
  .header{
    display:flex;
    gap:16px;
    align-items:center;
    padding:14px;
    background:var(--glass);
    border-radius:14px;
    box-shadow:var(--shadow);
    backdrop-filter: blur(8px);
  }
  .logo{
    width:64px;height:64px;border-radius:14px;
    background:linear-gradient(135deg,var(--accent1),var(--accent2));
    display:flex;align-items:center;justify-content:center;
    color:white;font-weight:700;font-size:20px;
    flex:0 0 64px;
    box-shadow: 0 10px 24px rgba(77,166,255,0.18);
  }
  .title{
    line-height:1;
  }
  .title h1{
    margin:0;font-size:20px;font-weight:800;color:var(--bg) == '#f1f6fb' ? #072034 : inherit;
    /* use color override below */
  }
  .title h1{font-size:22px;color:var(--text-title,#062235)}
  .by{
    margin-top:6px;color:var(--muted);font-size:13px;line-height:1.05;
  }
  /* ensure by PirateRuler.com sits exactly under the title as requested */
  .title{min-width:0}
  /* controls */
  .controls{margin-left:auto;display:flex;gap:12px;align-items:center}
  .theme-toggle{
    display:inline-flex;align-items:center;gap:10px;padding:10px 16px;border-radius:24px;
    background:linear-gradient(90deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
    box-shadow:0 8px 18px rgba(20,30,60,0.06);
    cursor:pointer;
  }
  [data-theme="dark"] .theme-toggle{
    background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    box-shadow: 0 8px 24px rgba(0,0,0,0.6);
  }
  .theme-dot{width:20px;height:20px;border-radius:50%;background:linear-gradient(135deg,var(--accent1),var(--accent2));box-shadow:0 6px 18px rgba(77,166,255,0.18)}
  .menu-btn{width:56px;height:44px;border-radius:12px;background:var(--glass);box-shadow:var(--shadow);display:inline-grid;place-items:center;cursor:pointer}
  .menu-icon{width:22px;height:2px;background:linear-gradient(90deg,#0b1b2b,#335470);box-shadow:0 6px 0 #0b1b2b,0 -6px 0 #0b1b2b}
  [data-theme="dark"] .menu-icon{background:linear-gradient(90deg,#cfe9ff,#a0bff0);box-shadow:0 6px 0 #cfe9ff,0 -6px 0 #cfe9ff}

  /* Main hero card */
  .hero{
    margin-top:18px;padding:28px;border-radius:20px;background:var(--card);box-shadow:var(--shadow);
  }
  .hero h2{margin:0;font-size:34px;text-align:center;color:var(--text-title,#052033);font-weight:800}
  [data-theme="dark"] .hero h2{color:#eaf4ff}
  .hero p{margin-top:14px;color:var(--muted);text-align:center;line-height:1.6}
  /* pill buttons grid */
  .pills{display:flex;flex-wrap:wrap;gap:14px;justify-content:center;margin-top:22px}
  .pill{
    border-radius:999px;padding:10px 18px;background:transparent;border:1px solid rgba(15,25,35,0.06);
    min-width:110px;text-align:center;font-weight:600;color:#0b2130;cursor:pointer;
    box-shadow:inset 0 1px 0 rgba(255,255,255,0.6);
  }
  [data-theme="dark"] .pill{border-color: rgba(255,255,255,0.03); color: #9fb0c6}
  .pill.active{
    background:linear-gradient(90deg,var(--accent1),var(--accent2));
    color:white;box-shadow:0 14px 40px rgba(77,166,255,0.14);transform:translateY(-2px);
  }

  /* tools area */
  .tools{
    margin-top:20px;
    display:grid;
    gap:20px;
  }
  .card{
    border-radius:16px;padding:18px;background:var(--card);box-shadow:var(--shadow);
  }
  .card h3{margin:0 0 8px 0;font-size:20px}
  .muted{color:var(--muted);font-size:14px}

  /* grid of small feature boxes (like calculator boxes) */
  .feature-grid{display:flex;flex-direction:column;gap:12px}
  .feature-row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:center}
  .feature{
    flex: 1 0 28%;
    min-width:120px;
    max-width:220px;
    background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.8));
    border-radius:12px;padding:12px;display:flex;gap:12px;align-items:center;
    box-shadow: 0 12px 28px rgba(10,20,40,0.04);
    color: #052033;font-weight:700;
  }
  [data-theme="dark"] .feature{background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); color: #e6f3ff; box-shadow:0 10px 30px rgba(0,0,0,0.65)}

  .feature .icon{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:grid;place-items:center;color:white;font-weight:800}

  /* world clock / stopwatch layout */
  .row{display:flex;flex-wrap:wrap;gap:12px}
  .half{flex:1 1 260px;min-width:260px}
  textarea,input,select{width:100%;padding:14px;border-radius:10px;border:1px solid rgba(10,20,30,0.06);font-size:15px}
  [data-theme="dark"] textarea,input,select{border-color: rgba(255,255,255,0.04); background: rgba(255,255,255,0.02); color: #eaf4ff}

  .btn{
    display:inline-flex;align-items:center;justify-content:center;padding:12px 20px;border-radius:12px;font-weight:700;cursor:pointer;
    background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;box-shadow:0 12px 30px rgba(77,166,255,0.14);
    border:none;
  }
  .btn-muted{background:transparent;border:1px solid rgba(10,20,30,0.06);color:var(--text,#072034)}

  /* modal sidebar */
  .menu-modal{position:fixed;right:14px;top:88px;width:92%;max-width:420px;border-radius:14px;z-index:80;display:none}
  .menu-modal.open{display:block}
  .menu-inner{padding:18px;background:var(--card);border-radius:12px;box-shadow:var(--shadow)}
  .menu-inner h4{margin:0 0 10px 0}
  .menu-list{display:flex;flex-direction:column;gap:12px;margin-top:6px}
  .menu-item{padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.85));border:1px solid rgba(10,20,30,0.03);font-weight:700;color:#062034}
  [data-theme="dark"] .menu-item{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); color:#eaf4ff}

  /* footer visit button */
  .footer-card{margin-top:18px;padding:18px;border-radius:16px;background:var(--card);box-shadow:var(--shadow);text-align:center}
  .cta{display:inline-block;padding:14px 30px;border-radius:999px;background:linear-gradient(90deg,#ff6fa6,#7b6bff);color:white;font-weight:800;box-shadow:0 12px 36px rgba(123,107,255,0.15)}

  /* responsive */
  @media (max-width:600px){
    .feature{flex:1 0 44%}
    .title h1{font-size:20px}
    .logo{width:56px;height:56px}
  }
</style>
</head>
<body data-theme="light">
  <!-- Header -->
  <header class="header" role="banner">
    <div class="logo">PR</div>
    <div class="title" style="min-width:0">
      <h1 style="margin:0; font-size:22px; color:var(--text-title,#072034)">Utility Tools</h1>
      <div class="by">by PirateRuler.com</div>
    </div>

    <div class="controls">
      <div class="theme-toggle" id="themeToggle" title="Toggle theme">
        <div class="theme-dot" id="themeDot" aria-hidden="true"></div>
        <div style="font-weight:700;color:var(--muted);margin-left:6px" id="themeLabel">Light</div>
      </div>
      <div class="menu-btn" id="menuBtn" aria-haspopup="true" aria-controls="menuModal">
        <div class="menu-icon"></div>
      </div>
    </div>
  </header>

  <!-- Hero / Tools selector -->
  <section class="hero">
    <h2>All-in-one Utility Tools</h2>
    <p>Everyday quick tools people love ‚Äî zero APIs, instant execution. Notes, stopwatch, date difference, world clock, password generator, converters and text helpers ‚Äî private and lightweight.</p>
    <div class="pills" id="pills">
      <button class="pill active">Notes</button>
      <button class="pill">Stopwatch</button>
      <button class="pill">Date Diff</button>
      <button class="pill">World Clock</button>
      <button class="pill">Password</button>
      <button class="pill">Clipboard</button>
      <button class="pill">File Size</button>
      <button class="pill">Char/Word</button>
      <button class="pill">Case Conv</button>
      <button class="pill">Text Format</button>
    </div>
  </section>

  <main class="tools" id="tools">

    <!-- Text Formatter / Indenter -->
    <div class="card" id="text-format">
      <h3>Text Formatter / Indenter</h3>
      <div class="muted">JSON pretty-print, JSON minify, basic HTML tidy.</div>
      <div style="height:14px"></div>
      <textarea id="formatterInput" rows="6" placeholder='{"hello":"world"}'></textarea>
      <div style="height:12px"></div>
      <div style="display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn" id="prettyBtn">JSON pretty</button>
        <button class="btn" id="minifyBtn" style="background:transparent;border:1px solid rgba(10,20,30,0.06);color:var(--muted)">JSON minify</button>
        <button class="btn btn-muted" id="copyFormat">Copy</button>
        <button class="btn btn-muted" id="clearFormat">Clear</button>
      </div>
    </div>

    <!-- Date diff -->
    <div class="card" id="date-diff">
      <h3>Date difference finder</h3>
      <div class="muted">Calculate days between two dates.</div>
      <div style="height:12px"></div>
      <input type="date" id="dateA"/>
      <div style="height:10px"></div>
      <input type="date" id="dateB"/>
      <div style="height:12px"></div>
      <button class="btn" id="calcDate">Calculate</button>
      <div style="height:12px"></div>
      <div id="dateResult" class="muted"></div>
    </div>

    <!-- World Clock + Timezones -->
    <div class="card" id="world-clock">
      <h3>World Clock</h3>
      <div class="muted">Client-side timezones ‚Äî no APIs. Pick a zone and see local time.</div>
      <div style="height:12px"></div>
      <select id="tzSelect" style="font-weight:700;">
        <!-- a useful set of zones -->
        <option value="UTC">UTC</option>
        <option value="Europe/London">Europe/London</option>
        <option value="Europe/Paris">Europe/Paris</option>
        <option value="Europe/Berlin">Europe/Berlin</option>
        <option value="Africa/Johannesburg">Africa/Johannesburg</option>
        <option value="Asia/Dubai">Asia/Dubai</option>
        <option value="Asia/Kolkata">Asia/Kolkata</option>
        <option value="Asia/Shanghai">Asia/Shanghai</option>
        <option value="Asia/Tokyo">Asia/Tokyo</option>
        <option value="Australia/Sydney">Australia/Sydney</option>
        <option value="America/New_York">America/New_York</option>
        <option value="America/Chicago">America/Chicago</option>
        <option value="America/Denver">America/Denver</option>
        <option value="America/Los_Angeles">America/Los_Angeles</option>
        <option value="America/Sao_Paulo">America/Sao_Paulo</option>
        <option value="Pacific/Auckland">Pacific/Auckland</option>
      </select>
      <div style="height:12px"></div>
      <div style="font-weight:800;font-size:20px" id="tzTime">--:--:--</div>
      <div class="muted" id="tzLabel"></div>
    </div>

    <!-- Stopwatch -->
    <div class="card" id="stopwatch">
      <h3>Stopwatch</h3>
      <div class="muted">Simple start / stop / reset stopwatch.</div>
      <div style="height:12px"></div>
      <div style="font-size:28px;font-weight:800" id="stopwatchDisplay">00:00:00.00</div>
      <div style="height:12px"></div>
      <div style="display:flex;gap:10px">
        <button class="btn" id="swStart">Start</button>
        <button class="btn btn-muted" id="swStop">Stop</button>
        <button class="btn btn-muted" id="swReset">Reset</button>
      </div>
    </div>

    <!-- Character & Word counter -->
    <div class="card" id="charword">
      <h3>Character & Word counter</h3>
      <div class="muted">Paste text to count characters and words.</div>
      <div style="height:12px"></div>
      <textarea id="cwInput" rows="4" placeholder="Paste text here..."></textarea>
      <div style="height:12px"></div>
      <div style="display:flex;gap:8px;align-items:center">
        <button class="btn" id="countBtn">Count</button>
        <button class="btn btn-muted" id="clearCW">Clear</button>
      </div>
      <div style="height:10px"></div>
      <div id="cwResult" class="muted"></div>
    </div>

    <!-- Feature boxes similar to calculator boxes -->
    <div class="card">
      <div class="feature-grid">
        <div class="feature-row">
          <div class="feature"><div class="icon">‚ö°</div><div><div style="font-weight:800">Lightning fast</div><div class="muted" style="font-weight:400">Optimized code, minimal dependencies</div></div></div>
          <div class="feature"><div class="icon" style="background:#6ee7b7">üîí</div><div><div style="font-weight:800">Private by design</div><div class="muted" style="font-weight:400">No personal data stored</div></div></div>
        </div>
        <div class="feature-row">
          <div class="feature"><div class="icon" style="background:linear-gradient(135deg,#ff8da1,#ffb86b)">üß∞</div><div><div style="font-weight:800">All tools in one</div><div class="muted" style="font-weight:400">Notes, stopwatch, converters & more</div></div></div>
          <div class="feature"><div class="icon" style="background:linear-gradient(135deg,#8ad3ff,#b78bff)">üåê</div><div><div style="font-weight:800">Backup resources</div><div class="muted" style="font-weight:400">If this site is offline, use PirateRuler.com</div></div></div>
        </div>
      </div>
    </div>

    <!-- Footer CTA -->
    <div class="footer-card">
      <a class="cta" href="https://pirateruler.com" target="_blank" rel="noopener">Visit PirateRuler.com</a>
      <div style="height:10px"></div>
      <div class="muted">Utility Tools by PirateRuler.com ‚Äî lightweight, private web utilities you can run anywhere. No signups, no tracking.</div>
    </div>
  </main>

  <!-- Menu Modal (sidebar replacement) -->
  <div class="menu-modal" id="menuModal" role="dialog" aria-hidden="true">
    <div class="menu-inner">
      <div style="display:flex;gap:12px;align-items:center">
        <div class="logo" style="width:52px;height:52px">PR</div>
        <div style="flex:1">
          <div style="font-weight:800;font-size:18px">Utility Tools</div>
          <div class="muted" style="font-size:13px;margin-top:4px">by PirateRuler.com ‚Äî Private ¬∑ Fast</div>
        </div>
        <button id="menuClose" class="btn btn-muted" style="height:40px">Close</button>
      </div>
      <div style="height:12px"></div>
      <h4>PirateRuler Links</h4>
      <div class="muted">Quick links & backup resources</div>
      <div style="height:12px"></div>
      <div class="menu-list">
        <a class="menu-item" href="https://pirateruler.com" target="_blank">Open PirateRuler.com</a>
        <div class="menu-item">About ‚Äî PirateRuler</div>
        <div class="menu-item">Privacy Policy</div>
        <div class="menu-item">Contact</div>
        <div class="menu-item">Terms & Service</div>
      </div>
      <div style="height:12px"></div>
      <div class="muted">If this site is offline you can visit the main PirateRuler site for backups & resources: pirateruler.com</div>
    </div>
  </div>

<script>
  // theme toggle
  const body = document.body;
  const themeToggle = document.getElementById('themeToggle');
  const themeLabel = document.getElementById('themeLabel');
  const themeDot = document.getElementById('themeDot');

  const setTheme = (t) => {
    document.documentElement.setAttribute('data-theme', t);
    body.setAttribute('data-theme', t);
    themeLabel.textContent = t === 'dark' ? 'Dark' : 'Light';
    // move dot (simple visual)
    themeDot.style.transform = t === 'dark' ? 'translateX(0)' : 'translateX(0)';
  };

  // start theme from prefers-color-scheme
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  setTheme(prefersDark ? 'dark' : 'light');

  themeToggle.addEventListener('click', () => {
    const current = body.getAttribute('data-theme') || 'light';
    setTheme(current === 'light' ? 'dark' : 'light');
  });

  // menu modal
  const menuBtn = document.getElementById('menuBtn');
  const menuModal = document.getElementById('menuModal');
  const menuClose = document.getElementById('menuClose');
  menuBtn.addEventListener('click', ()=> {
    menuModal.classList.toggle('open');
    menuModal.setAttribute('aria-hidden', !menuModal.classList.contains('open'));
  });
  menuClose.addEventListener('click', ()=> {
    menuModal.classList.remove('open');
    menuModal.setAttribute('aria-hidden', true);
  });

  // pills -> toggle active (and scroll to matching card)
  const pills = document.getElementById('pills');
  pills.addEventListener('click', (e)=> {
    if(!e.target.matches('.pill')) return;
    for(const p of pills.querySelectorAll('.pill')) p.classList.remove('active');
    e.target.classList.add('active');
    // map to card:
    const map = {
      'Notes':'text-format',
      'Text Format':'text-format',
      'Date Diff':'date-diff',
      'World Clock':'world-clock',
      'Stopwatch':'stopwatch',
      'Char/Word':'charword'
    };
    const label = e.target.textContent.trim();
    const id = map[label];
    if(id){
      const el = document.getElementById(id);
      if(el) el.scrollIntoView({behavior:'smooth', block:'start'});
    }
  });

  // Text formatter
  const prettyBtn = document.getElementById('prettyBtn');
  const minifyBtn = document.getElementById('minifyBtn');
  const copyFormat = document.getElementById('copyFormat');
  const clearFormat = document.getElementById('clearFormat');
  const formatterInput = document.getElementById('formatterInput');

  prettyBtn.addEventListener('click', ()=> {
    try{
      const v = JSON.parse(formatterInput.value);
      formatterInput.value = JSON.stringify(v, null, 2);
    }catch(e){
      alert('Invalid JSON');
    }
  });
  minifyBtn.addEventListener('click', ()=> {
    try{
      const v = JSON.parse(formatterInput.value);
      formatterInput.value = JSON.stringify(v);
    }catch(e){
      alert('Invalid JSON');
    }
  });
  copyFormat.addEventListener('click', ()=> navigator.clipboard.writeText(formatterInput.value));
  clearFormat.addEventListener('click', ()=> formatterInput.value='');

  // Date difference
  const dateA = document.getElementById('dateA');
  const dateB = document.getElementById('dateB');
  const calcDate = document.getElementById('calcDate');
  const dateResult = document.getElementById('dateResult');
  calcDate.addEventListener('click', ()=>{
    if(!dateA.value || !dateB.value){ dateResult.textContent = 'Choose both dates'; return; }
    const a = new Date(dateA.value);
    const b = new Date(dateB.value);
    const ms = Math.abs(b - a);
    const days = Math.floor(ms / (1000*60*60*24));
    dateResult.textContent = days === 0 ? 'Same day' : days + ' day' + (days>1?'s':'');
  });

  // World clock (no API)
  const tzSelect = document.getElementById('tzSelect');
  const tzTime = document.getElementById('tzTime');
  const tzLabel = document.getElementById('tzLabel');

  function updateTz(){
    const zone = tzSelect.value;
    try{
      const now = new Date();
      const opts = { timeZone: zone, hour12:false, hour:'2-digit', minute:'2-digit', second:'2-digit' };
      const time = new Intl.DateTimeFormat([], opts).format(now);
      tzTime.textContent = time;
      tzLabel.textContent = zone.replace('_',' ');
    }catch(e){
      tzTime.textContent = '--:--:--';
      tzLabel.textContent = '';
    }
  }
  tzSelect.addEventListener('change', updateTz);
  setInterval(updateTz,1000);
  updateTz();

  // Stopwatch
  let swTimer = null, swStartAt = 0, swElapsed = 0;
  const swDisplay = document.getElementById('stopwatchDisplay');
  const swStart = document.getElementById('swStart');
  const swStop = document.getElementById('swStop');
  const swReset = document.getElementById('swReset');

  function formatTime(ms){
    const milliseconds = Math.floor((ms%1000)/10).toString().padStart(2,'0');
    const s = Math.floor(ms/1000)%60;
    const m = Math.floor(ms/60000)%60;
    const h = Math.floor(ms/3600000);
    return [h.toString().padStart(2,'0'), m.toString().padStart(2,'0'), s.toString().padStart(2,'0')].join(':') + '.' + milliseconds;
  }

  swStart.addEventListener('click', ()=>{
    if(swTimer) return;
    swStartAt = Date.now() - swElapsed;
    swTimer = setInterval(()=>{
      swElapsed = Date.now() - swStartAt;
      swDisplay.textContent = formatTime(swElapsed);
    }, 30);
  });
  swStop.addEventListener('click', ()=>{
    if(!swTimer) return;
    clearInterval(swTimer); swTimer = null;
  });
  swReset.addEventListener('click', ()=>{
    clearInterval(swTimer); swTimer=null; swElapsed=0; swDisplay.textContent='00:00:00.00';
  });

  // Char & Word counter
  const cwInput = document.getElementById('cwInput');
  const countBtn = document.getElementById('countBtn');
  const clearCW = document.getElementById('clearCW');
  const cwResult = document.getElementById('cwResult');

  countBtn.addEventListener('click', ()=>{
    const t = cwInput.value || '';
    const chars = t.length;
    const words = t.trim().length ? t.trim().split(/\s+/).length : 0;
    cwResult.textContent = words + ' words ‚Ä¢ ' + chars + ' characters';
  });
  clearCW.addEventListener('click', ()=>{ cwInput.value=''; cwResult.textContent=''; });

  // Keep pills in view alignment by adjusting widths (ensures nicer layout on very small screens)
  window.addEventListener('resize', ()=> {
    // no-op placeholder for future adjustments
  });

  // ensure header two-line layout for by PirateRuler.com (small on second line)
  // already implemented via CSS, but ensure it doesn't wrap into 3 lines by clamping font-size on small screens
  function clampHeader(){
    const title = document.querySelector('.title h1');
    const byLine = document.querySelector('.by');
    // reduce byLine size slightly if too many chars/space
    if(window.innerWidth < 360){
      title.style.fontSize='20px';
      byLine.style.fontSize='12px';
    } else {
      title.style.fontSize='22px';
      byLine.style.fontSize='13px';
    }
  }
  window.addEventListener('resize', clampHeader);
  clampHeader();

  // accessibility: close modal on escape
  window.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape'){ menuModal.classList.remove('open'); menuModal.setAttribute('aria-hidden', true); }
  });

  // Ensure dark mode uses white text in cards (we already set root palette). But force some card text colors:
  function applyCardTextColors(){
    if(document.body.getAttribute('data-theme') === 'dark'){
      document.querySelectorAll('.card, .menu-inner, .feature').forEach(c=>{
        c.style.color = '#eaf4ff';
      });
    } else {
      document.querySelectorAll('.card, .menu-inner, .feature').forEach(c=>{
        c.style.color = '';
      });
    }
  }
  // watch theme toggle
  const obs = new MutationObserver(applyCardTextColors);
  obs.observe(document.body, { attributes:true, attributeFilter:['data-theme']});
  applyCardTextColors();

  // small UX: close menu when clicking outside
  document.addEventListener('click', (e)=>{
    if(menuModal.classList.contains('open') && !menuModal.contains(e.target) && !menuBtn.contains(e.target)){
      menuModal.classList.remove('open');
      menuModal.setAttribute('aria-hidden', true);
    }
  });

</script>
</body>
</html>
